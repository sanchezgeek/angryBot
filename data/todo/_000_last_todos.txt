imports
    - { todos }


вспомнить про админку
@todo | cover-losses

symbols
    @todo | symbol | for all symbols
    @todo | symbols | TakeProfit trigger delta (and whole mechanics) for all symbols
    @todo | symbols | profiling
    @todo | symbol | performance
        check queries (EAGER)
        symbolProvider profiling
    @todo | symbol | some way to get values based on symbol -> move to settings?


05.07 21:53 (посмотреть во сколько примерно началсся движ и почему bmt, hifi, ...)
foewCH ALL
some pnl triggers check
    or even every step after that pnl%
       в итоге при пересечении опред уровня надо докупить минимальный (даже если до этого не был открыт)

   сам atr (или что бы то ни было) нужно вычислять на истории до открытия (оно только такое там может быть и актуально)

[cmd] команду для перестановки стопов в б/у


PriceChange on short period
        тут надо придумать multiply

### TRADING
    remove stale stops after position closed

команду, чтобы опустить/поднять все стопы на опред PNL-процент


opened
    удалять из watch после некоторого профита


держать fixations на том же profit-расстоянии, что и при создании (позиция погла сдвинуться)


autoOpen | если больше 100% (или подобрать. мб как-то ta использовать) <= чем за 1 день - полюбому


pushStops
    @todo | stops | ta? or markPrice anyway?


попробовать вписать технику глайда


@todo | symbols | cache SymbolNotFoundException too


@todo | liquidation | CheckPositionIsUnderLiquidationHandler | нужно придумать что-то, чтобы точно не ликвиднуло (atr, maxWarningPnlPercent, ...)

@todo | check | может всё таки пускать дальше, чтобы потом в логах видеть почему allowed? Хотя возможно это лучше в базу. Anyway, возможно лучше проверку disabled внутри supports не делать

push buy neggative balance

может быть очень бюольшая волатильность. альты плюсанут, баланса станет много. safePriceDistance будет неактуален. а потом обратно
    нужно среднее значение по балансу за период


сильное усреднение
    ./bin/console buy:edit -aremove sell --symbol=hft
        вроде реализовал в BuyOnLongDistanceAndCheckAveragePrice

можно в зависимости от соотношение +unrealized/TOTAL выставлять safeLiquidationDistance,baseMultiplier

как использовать разницу mark/last/index
    mark_index_fundingRate.txt

оповещать о высокой волатильности по открытой монете


open: стопы за позицию (возможно интерактивно)
breakeven ta

посмотреть переоткроется ли elx (0.1914)
    не переоткроется - scheduler надо поправить

покупка по marketPrice?
    например вот тут: src/modules/Buy/Application/UseCase/CheckBuyOrderCanBeExecuted/Checks/BuyAndCheckFurtherPositionLiquidation.php


использовать \App\Bot\Domain\Entity\BuyOrder::SKIP_FURTHER_LIQUIDATION_CHECK_KEY для пропуска проверки. Или старый ключ?



посмотреть в @todo для OpenPositionHandler

@todo | buy | переделать расчёт pnl на основе markPrice
    нужно найти где ещё накосячил


src/modules/Stop/Console/CreateFixationGridCommand.php
