Пояснения по поводу ADX

    Мы будем использовать данные о ценах (high, low, close) для расчета ADX.

    Шаги:

    1. Рассчитать True Range (TR) для каждого периода.

    2. Рассчитать Directional Movement (+DM и -DM).

    3. Сгладить TR, +DM и -DM с использованием экспоненциального скользящего среднего (EMA) за 14 периодов.

    4. Вычислить Directional Indicators (+DI и -DI).

    5. Вычислить Directional Movement Index (DX).

    6. Сгладить DX с помощью EMA за 14 периодов, чтобы получить ADX.

    Для пары BTCUSDT мы будем использовать дневные данные (или любой другой таймфрейм).

    Пример данных (массивы):

    $highs = [цена1_high, цена2_high, ...];

    $lows = [цена1_low, цена2_low, ...];

    $closes = [цена1_close, цена2_close, ...];

    Период (чаще всего 14).

    Примечание: Для первого периода сглаживания (первых 14 баров) мы используем простое среднее (SMA), а затем EMA.

    Однако, Уайлдер в оригинале использовал сглаживание, которое эквивалентно:

    First EMA = SMA (за 14 периодов)

    Затем: Current EMA = (Previous EMA * (period - 1) + current value) / period

    Но в нашем примере мы сделаем:

    Для первых 14 баров: сумма / 14.

    Для последующих: EMA = (предыдущее сглаженное значение * 13 + текущее значение) / 14.

    Но обратите внимание: в оригинальном расчете Уайлдера используется именно такой метод (не стандартная EMA).

    Шаги в коде:

    1. Инициализация:

    - Создаем массивы для TR, +DM, -DM.

    - Рассчитываем их для каждого бара, начиная с 1 (не 0, потому что нам нужен предыдущий бар).

    2. Сглаживание (Smooth) для TR, +DM, -DM за 14 периодов:

    - Первое сглаженное значение (для 13-го индекса, если считать с 0) - это сумма первых 14 значений (с индекса 1 до 14) деленная на 14.

    - Затем для каждого следующего: smoothed = (previous_smoothed * 13 + current_value) / 14.

    3. Рассчитываем +DI и -DI:

    - +DI = (smoothed +DM / smoothed TR) * 100

    - -DI = (smoothed -DM / smoothed TR) * 100

    4. Рассчитываем DX:

    - DX = (abs(+DI - -DI) / (+DI + -DI)) * 100

    5. Сглаживаем DX тем же методом (сначала SMA за 14 периодов, затем по формуле Уайлдера) - это и будет ADX.

    Давайте реализуем это в коде.

https://capital.com/ru-int/learn/technical-analysis/average-true-range-trading-strategy
    попросить предложить примеры для
        "Дневной трейдинг"
        "Стратегия торговли в диапазоне"
        "Стратегия пробоя"
        "Торговля по импульсу (Momentum trading)"

        Средний истинный диапазон (ATR) и другие индикаторы









Практика риск-менеджмента:

python
# Размер позиции = (риск на сделку / (ATR% × цена)) × 100
position_size = (risk_per_trade / (atr_percent * current_price)) * 100
