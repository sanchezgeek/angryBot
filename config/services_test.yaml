services:
    _defaults:
        public: true

    Symfony\Contracts\HttpClient\HttpClientInterface:
        class: App\Tests\Stub\Request\SymfonyHttpClientStub

    App\Bot\Application\Service\Exchange\ExchangeServiceInterface:
        class: App\Tests\Stub\Bot\ExchangeServiceStub

    App\Bot\Application\Service\Exchange\PositionServiceInterface:
        class: App\Tests\Stub\Bot\PositionServiceStub

    App\Bot\Application\Service\Exchange\TickersCache:
        class: App\Tests\Stub\Bot\ExchangeServiceStub

    App\Application\UniqueIdGeneratorInterface:
        class: App\Tests\Mock\UniqueIdGeneratorStub

    App\Application\Messenger\CheckPositionIsUnderLiquidationHandler:
        class: App\Application\Messenger\CheckPositionIsUnderLiquidationHandler
        arguments:
            $exchangeService: '@App\Bot\Application\Service\Exchange\ExchangeServiceInterface'
            $positionService: '@App\Bot\Application\Service\Exchange\PositionServiceInterface' # use stub instead of service (@see services.yaml)
            $exchangeAccountService: '@App\Bot\Application\Service\Exchange\Account\ExchangeAccountServiceInterface'
            $orderService: '@App\Bot\Application\Service\Exchange\Trade\OrderServiceInterface'
            $stopService: '@App\Bot\Application\Service\Orders\StopServiceInterface'
            $stopRepository: '@App\Bot\Domain\Repository\StopRepositoryInterface'

    App\Clock\ClockInterface:
        class: App\Clock\Clock
